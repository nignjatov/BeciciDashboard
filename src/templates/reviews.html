<div class="row">
    <div class="col-sm-7">
        <form>
            <div class="form-group">
                <div class="input-group">
                    <div class="input-group-addon"><i class="fa fa-search"></i></div>
                    <input type="text" class="form-control" placeholder="Search reviews" ng-model="searchWord">
                </div>
            </div>
        </form>

        <table class="table table-responsive">
            <thead>
            <th>
                <a class="cursor white-text" ng-click="sortType = 'stars'; sortReverse = !sortReverse">
                    Stars
                    <span ng-show="sortType == 'stars' && sortReverse" class="fa fa-caret-down"></span>
                    <span ng-show="sortType == 'stars' && !sortReverse" class="fa fa-caret-up"></span>
                </a>
            </th>
            <th>
                <a class="cursor white-text" ng-click="sortType = 'language'; sortReverse = !sortReverse">
                    Language
                    <span ng-show="sortType == 'language' && sortReverse" class="fa fa-caret-down"></span>
                    <span ng-show="sortType == 'language' && !sortReverse" class="fa fa-caret-up"></span>
                </a>
            </th>
            <th>
                <a class="cursor white-text" ng-click="sortType = 'created_at'; sortReverse = !sortReverse">
                    Created at
                    <span ng-show="sortType == 'created_at' && sortReverse" class="fa fa-caret-down"></span>
                    <span ng-show="sortType == 'created_at' && !sortReverse" class="fa fa-caret-up"></span>
                </a>
            </th>
            <th>
                <a class="cursor white-text" ng-click="sortType = 'status'; sortReverse = !sortReverse">
                    Status
                    <span ng-show="sortType == 'status' && sortReverse" class="fa fa-caret-down"></span>
                    <span ng-show="sortType == 'status' && !sortReverse" class="fa fa-caret-up"></span>
                </a>
            </th>
            </thead>
            <tbody>
            <tr class="cursor" ng-repeat="review in reviews | orderBy:sortType:sortReverse | filter:searchWord"
                ng-click="selectReview(review)">
                <td>
                    <div class="col-sm-12">
                        <p class="fa fa-star" ng-repeat="star in range(1,review.stars)"></p>
                    </div>
                </td>
                <td>{{review.language}}</td>
                <td>{{review.created_at | date : fullDateTime}}</td>
                <td>{{review.status}}</td>
            </tr>
            </tbody>
        </table>
    </div>
    <script type="text/ng-template" id="deleteModal.html">
        <div class="modal-header">
            <button type="button" class="close" ng-click="no()">&times;</button>
            <h4 class="modal-title">Delete</h4>
        </div>
        <div class="modal-body">
            <p>Are you sure you want to delete this item?</p>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-primary"
                    ng-click="yes()">Yes
            </button>
            <button type="button" class="btn btn-primary" ng-click="no()">No
            </button>
        </div>
    </script>
    <div ng-if="selectedReview" class="col-sm-5">
        <div class="col-sm-12 edit-header">
            <h4>Review</h4>
        </div>
        <div class="col-sm-12 edit-body">
            <div class="edit-body-row col-sm-12">
                <div class="col-sm-3">Full name:</div>
                <p class="col-sm-9">{{selectedReview.fullName}}</p>
            </div>
            <div class="edit-body-row col-sm-12">
                <div class="col-sm-3">E-Mail:</div>
                <p class="col-sm-9">{{selectedReview.revEmail}}</p>
            </div>
            <div class="edit-body-row col-sm-12">
                <div class="col-sm-3">Stars:</div>
                <div class="col-sm-9">
                    <p class="fa fa-star" ng-repeat="star in range(1,selectedReview.stars)"></p>
                </div>
            </div>
            <div class="edit-body-row col-sm-12">
                <div class="col-sm-3">Language:</div>
                <p class="col-sm-9">{{selectedReview.language | language}}</p>
            </div>
            <div class="edit-body-row col-sm-12">
                <div class="col-sm-3">Text:</div>
                <p class="col-sm-9" style="word-wrap: break-word;">{{selectedReview.description}}</p>
            </div>
            <div class="edit-body-row col-sm-12">
                <div class="col-sm-3">Created:</div>
                <p class="col-sm-9">{{selectedReview.created_at | date : fullDateTime}}</p>
            </div>
            <div class="edit-body-row col-sm-12">
                <div class="col-sm-3">Status:</div>
                <p class="col-sm-9">{{selectedReview.status}}</p>
            </div>
            <div class="edit-body-row col-sm-12">
                <button class="btn btn-primary col-sm-3 text-right" ng-click="deleteReview()">Delete</button>
                <button ng-if="selectedReview.status == 'waiting'" class="btn btn-primary col-sm-3"
                        ng-click="approveReview()">Approve
                </button>
                <button ng-if="selectedReview.status == 'waiting'" class="btn btn-primary col-sm-3"
                        ng-click="rejectReview()">Reject
                </button>
            </div>
        </div>
    </div>
</div>